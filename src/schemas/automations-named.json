{"type":"object","properties":{"id":{"type":"string"},"alias":{"type":"string"},"initial_state":{"type":"boolean"},"trigger":{"$ref":"#/definitions/Trigger"},"condition":{"$ref":"#/definitions/Condition"},"action":{"$ref":"#/definitions/Action"}},"required":["action","trigger"],"definitions":{"Trigger":{"type":"object","properties":{"platform":{"type":"string"},"event_type":{"type":"string"},"event_data":{},"value_template":{"type":"string"}},"required":["platform"]},"Condition":{"type":"object","properties":{"condition":{"type":"string"},"conditions":{"$ref":"#/definitions/Condition"},"value_template":{"type":"string"},"entity_id":{"type":"string"}},"required":["condition"]},"Action":{"type":"object","properties":{"service":{"type":"string"},"data":{}},"required":["service"]}},"$schema":"http://json-schema.org/draft-07/schema#"}