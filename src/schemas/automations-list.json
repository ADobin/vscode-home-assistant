{"type":"array","items":{"$ref":"#/definitions/Automation"},"definitions":{"Automation":{"type":"object","properties":{"id":{"type":"string"},"alias":{"type":"string"},"initial_state":{"type":"boolean"},"hide_entity":{"type":"boolean"},"trigger":{"$ref":"#/definitions/Trigger"},"condition":{"anyOf":[{"$ref":"#/definitions/NumericStateConditionSchema"},{"$ref":"#/definitions/TemplateConditionSchema"},{"$ref":"#/definitions/AndConditionSchema"},{"type":"array","items":{"anyOf":[{"$ref":"#/definitions/NumericStateConditionSchema"},{"$ref":"#/definitions/TemplateConditionSchema"},{"$ref":"#/definitions/AndConditionSchema"}]}}]},"action":{"$ref":"#/definitions/Action"}},"required":["action","trigger"]},"Trigger":{"type":"object","properties":{"platform":{"type":"string"},"event_type":{"type":"string"},"event_data":{},"value_template":{"type":"string"}},"required":["platform"]},"NumericStateConditionSchema":{"type":"object","properties":{"condition":{"type":"string","enum":["numeric_state"]},"entity_id":{"type":"string"},"below":{"type":"number"},"above":{"type":"number"},"value_template":{"type":"string"}},"required":["above","below","condition","entity_id"]},"TemplateConditionSchema":{"type":"object","properties":{"condition":{"type":"string","enum":["template"]},"value_template":{"type":"string"}},"required":["condition"]},"AndConditionSchema":{"type":"object","properties":{"condition":{"type":"string","enum":["and"]},"conditions":{"anyOf":[{"$ref":"#/definitions/NumericStateConditionSchema"},{"$ref":"#/definitions/TemplateConditionSchema"},{"$ref":"#/definitions/AndConditionSchema"},{"type":"array","items":{"anyOf":[{"$ref":"#/definitions/NumericStateConditionSchema"},{"$ref":"#/definitions/TemplateConditionSchema"},{"$ref":"#/definitions/AndConditionSchema"}]}}]}},"required":["condition","conditions"]},"Action":{"type":"object","properties":{"service":{"type":"string"},"data":{}},"required":["service"]}},"$schema":"http://json-schema.org/draft-07/schema#"}